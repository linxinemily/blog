<!DOCTYPE html>
<html lang="en-us">
    
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="theme-color" content="dark">
    <title>è®“æ¶åœ¨ Netlify ä¸Šçš„ç¶²ç«™ç™¼æ–‡åŒæ™‚å‘ Google è¦æ±‚ç‚ºæ–°é é¢å»ºç«‹ç´¢å¼•! - ä½¿ç”¨ Netlify Functions ä¸²æ¥ Google Indexing API | Emmie&#39; s Workspace</title>
    
    <meta property="og:site_name" content="Emmie&#39; s Workspace" />
    <meta property="og:title" content="è®“æ¶åœ¨ Netlify ä¸Šçš„ç¶²ç«™ç™¼æ–‡åŒæ™‚å‘ Google è¦æ±‚ç‚ºæ–°é é¢å»ºç«‹ç´¢å¼•! - ä½¿ç”¨ Netlify Functions ä¸²æ¥ Google Indexing API | Emmie&#39; s Workspace"/>
    <meta itemprop="name" content="è®“æ¶åœ¨ Netlify ä¸Šçš„ç¶²ç«™ç™¼æ–‡åŒæ™‚å‘ Google è¦æ±‚ç‚ºæ–°é é¢å»ºç«‹ç´¢å¼•! - ä½¿ç”¨ Netlify Functions ä¸²æ¥ Google Indexing API | Emmie&#39; s Workspace" />
    <meta name="twitter:title" content="è®“æ¶åœ¨ Netlify ä¸Šçš„ç¶²ç«™ç™¼æ–‡åŒæ™‚å‘ Google è¦æ±‚ç‚ºæ–°é é¢å»ºç«‹ç´¢å¼•! - ä½¿ç”¨ Netlify Functions ä¸²æ¥ Google Indexing API | Emmie&#39; s Workspace" />
    <meta name="application-name" content="è®“æ¶åœ¨ Netlify ä¸Šçš„ç¶²ç«™ç™¼æ–‡åŒæ™‚å‘ Google è¦æ±‚ç‚ºæ–°é é¢å»ºç«‹ç´¢å¼•! - ä½¿ç”¨ Netlify Functions ä¸²æ¥ Google Indexing API | Emmie&#39; s Workspace" /><meta name="twitter:card" content="summary"/>

    <meta name="description" content="æ”¾ä¸€äº›ç­†è¨˜çš„åœ°æ–¹" />
    <meta name="twitter:description" content="æ”¾ä¸€äº›ç­†è¨˜çš„åœ°æ–¹"/>
    <meta itemprop="description" content="æ”¾ä¸€äº›ç­†è¨˜çš„åœ°æ–¹"/>
    <meta property="og:description" content="æ”¾ä¸€äº›ç­†è¨˜çš„åœ°æ–¹" />

    


    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    
    <link rel="stylesheet" href="/sass/main.min.9606ece50dffeea1ff779aaa181ca0dd8f1e40cd70c1cdd128c568088ecf6f83.css">
    
</head>
    
    <script>
        (function() {
            const colorSchemeKey = 'ThemeColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'ThemeColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.userColorScheme = 'dark';
        } else {
            document.documentElement.dataset.userColorScheme = 'light';
        }
    })();
</script>


    <body class="dark">
        <nav class="navbar">
    <div class="container">
        <div class="flex">
            <div>
                <a class="brand" href="/">
                    
                    
                    Emmie&#39; s Workspace
                    </a>
            </div>
            <div class="flex">
                
                <a href="/about/">About</a>
                
                <a href="/articles/">Articles</a>
                
                
                    <button id="dark-mode-button">
                    <svg class="light" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" width="1em" height="1em" style="-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);" preserveAspectRatio="xMidYMid meet" viewBox="0 0 36 36"><path fill="#FFD983" d="M30.312.776C32 19 20 32 .776 30.312c8.199 7.717 21.091 7.588 29.107-.429C37.9 21.867 38.03 8.975 30.312.776z"/><path d="M30.705 15.915a1.163 1.163 0 1 0 1.643 1.641a1.163 1.163 0 0 0-1.643-1.641zm-16.022 14.38a1.74 1.74 0 0 0 0 2.465a1.742 1.742 0 1 0 0-2.465zm13.968-2.147a2.904 2.904 0 0 1-4.108 0a2.902 2.902 0 0 1 0-4.107a2.902 2.902 0 0 1 4.108 0a2.902 2.902 0 0 1 0 4.107z" fill="#FFCC4D"/><rect x="0" y="0" width="36" height="36" fill="rgba(0, 0, 0, 0)" /></svg>
                    <svg class="dark" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" width="1em" height="1em" style="-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);" preserveAspectRatio="xMidYMid meet" viewBox="0 0 36 36"><path fill="#FFD983" d="M16 2s0-2 2-2s2 2 2 2v2s0 2-2 2s-2-2-2-2V2zm18 14s2 0 2 2s-2 2-2 2h-2s-2 0-2-2s2-2 2-2h2zM4 16s2 0 2 2s-2 2-2 2H2s-2 0-2-2s2-2 2-2h2zm5.121-8.707s1.414 1.414 0 2.828s-2.828 0-2.828 0L4.878 8.708s-1.414-1.414 0-2.829c1.415-1.414 2.829 0 2.829 0l1.414 1.414zm21 21s1.414 1.414 0 2.828s-2.828 0-2.828 0l-1.414-1.414s-1.414-1.414 0-2.828s2.828 0 2.828 0l1.414 1.414zm-.413-18.172s-1.414 1.414-2.828 0s0-2.828 0-2.828l1.414-1.414s1.414-1.414 2.828 0s0 2.828 0 2.828l-1.414 1.414zm-21 21s-1.414 1.414-2.828 0s0-2.828 0-2.828l1.414-1.414s1.414-1.414 2.828 0s0 2.828 0 2.828l-1.414 1.414zM16 32s0-2 2-2s2 2 2 2v2s0 2-2 2s-2-2-2-2v-2z"/><circle fill="#FFD983" cx="18" cy="18" r="10"/><rect x="0" y="0" width="36" height="36" fill="rgba(0, 0, 0, 0)" /></svg>
                    </button>
                
            </div>
            </div>
    </div>
</nav>

        <main>
            
<div class="container">
    <article>
        <header class="article-header">
            <div class="thumb">
                <div>
                    <h1>è®“æ¶åœ¨ Netlify ä¸Šçš„ç¶²ç«™ç™¼æ–‡åŒæ™‚å‘ Google è¦æ±‚ç‚ºæ–°é é¢å»ºç«‹ç´¢å¼•! - ä½¿ç”¨ Netlify Functions ä¸²æ¥ Google Indexing API</h1>
                    <div class="post-meta">
                        <div>
                            
                            
                              
                            
                            By Emmie | <time>February 27, 2023</time>
                            | 4 minutes
                        </div>
                        <div class="tags">
                            
                            <a href="/tags/golang/">Golang</a>
                            
                            <a href="/tags/third-party-integration/">Third-Party Integration</a>
                            
                        </div>
                    </div>
                </div>
            </div>
        </header>
    </article>

    <div class="article-post">
    <h2 id="å‰è¨€">
    <a href="#%e5%89%8d%e8%a8%80" class="anchor">
        <svg class="icon" aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16">
            <path fill-rule="evenodd"
                d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
        </svg>
    </a>
    å‰è¨€
</h2>
<p>è‡ªå¾å¾ Medium æ›éä¾†è‡ªæ¶éƒ¨è½æ ¼å¾Œï¼ŒSEO çš„äº‹æƒ…ä¹Ÿéƒ½å¾—è‡ªå·±è™•ç†ã€‚ä½†é›–ç„¶èªªæ˜¯ã€Œè™•ç†ã€ï¼Œä¹Ÿåªæ˜¯åšä¸€äº›åŸºæœ¬çš„è¨­å®šè€Œå·²ï¼Œä¾‹å¦‚è£å€‹ Search Consoleã€æäº¤ sitemapï¼ˆä½†å…¶å¯¦ä½¿ç”¨çš„éœæ…‹ç¶²ç«™ç”Ÿç”¢å™¨ Hexo å°±å·²ç¶“æœ‰åšåˆ°è‡ªå‹•ç”Ÿç”¢ã€æ›´æ–° sitemapï¼‰ã€‚å”¯ä¸€çš„æ‰‹å‹•ä½œæ¥­å°±æ˜¯æ¯æ¬¡ç™¼è¡¨æ–°æ–‡ç« å¾Œï¼Œç‚ºäº†åŠ å¿« Google ç´¢å¼•åˆ°æ–°æ–‡ç« é é¢çš„é€Ÿåº¦ï¼Œæˆ‘éƒ½é‚„æ˜¯æœƒé€²åˆ° Search Console å¾Œå°ï¼Œæ‰‹å‹•è¼¸å…¥é é¢ç¶²å€è¦æ±‚å»ºç«‹ç´¢å¼•ï¼ˆç¶²å€å¯©æŸ¥&gt;æ¸¬è©¦ç·šä¸Šç¶²å€&gt;å»ºç«‹ç´¢å¼•)ã€‚</p>
<p>èº«ç‚ºä¸€å€‹èƒ½å¤ è‡ªå‹•å°±ä¸æ‰‹å‹•çš„æ‡¶äººï¼Œçªç„¶æƒ³åˆ°ä¹‹å‰æ›¾åœ¨å…¬å¸å°ˆæ¡ˆä¸­ä½¿ç”¨é Google Indexing API æäº¤è¦åŠ å…¥ç´¢å¼•çš„ç¶²å€ï¼Œé‚£æˆ‘æ‡‰è©²ä¹Ÿå¯ä»¥ä¾†å¹«æˆ‘çš„éƒ¨è½æ ¼ä¸²çœ‹çœ‹å§ï¼Ÿ</p>
<p>åœ¨å°‹æ‰¾æ–¹æ³•çš„éç¨‹ä¸­ï¼Œé›–ç„¶åŸæœ¬å°±æ˜¯ä½¿ç”¨ Netlify æ¶ç«™ï¼Œä½†ä¸€å¹´å‰çš„è¨˜æ†¶æœ‰é»æ¨¡ç³Š(<del>å¯èƒ½ä¹Ÿæ˜¯è¤‡è£½è²¼ä¸Šçš„é—œä¿‚</del>)ï¼Œè£¡é¢å¾ˆå¤šåŠŸèƒ½å…¶å¯¦ä¹Ÿæ²’ç¢°éï¼Œä¸­é€”ä¸å°‘æ¬¡å› ç‚ºé‡åˆ°æŸç¨®é™åˆ¶è€Œåˆæ”¹è®ŠåŸæœ¬çš„åš/è§£æ³•ï¼Œè¦ºå¾—é€™å€‹éç¨‹ä¹Ÿæ˜¯å­¸ç¿’åˆ°äº†ä¸å°‘ï¼Œæˆ–æ˜¯æœ‰æ©Ÿæœƒç‚ºå…¶ä»–äººé¿å‘(?)ï¼Œå› æ­¤æœ‰äº†é€™ç¯‡æ–‡ç« ã€‚</p>
<h2 id="å¯¦ä½œ">
    <a href="#%e5%af%a6%e4%bd%9c" class="anchor">
        <svg class="icon" aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16">
            <path fill-rule="evenodd"
                d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
        </svg>
    </a>
    å¯¦ä½œ
</h2>
<h3 id="åˆæ­¥è¦åŠƒ">
    <a href="#%e5%88%9d%e6%ad%a5%e8%a6%8f%e5%8a%83" class="anchor">
        <svg class="icon" aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16">
            <path fill-rule="evenodd"
                d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
        </svg>
    </a>
    åˆæ­¥è¦åŠƒ
</h3>
<p>é€™å€‹åŠŸèƒ½çš„æµç¨‹å…¶å¯¦éå¸¸ç°¡å–®ï¼Œå°±æ˜¯â€”â€”ç™¼è¡¨æ–‡ç« å¾Œï¼ˆdeploy æˆåŠŸï¼‰é¦¬ä¸Šè§¸ç™¼æ‰“ Google Indexing API çš„ç¨‹å¼ã€‚</p>
<p>é¦–å…ˆéœ€è¦æ€è€ƒçš„å•é¡Œæ˜¯ï¼Œ<strong>è¦å¦‚ä½•æ¥æ”¶ deploy å®Œæˆçš„è¨Šæ¯ï¼Ÿ</strong> ä»¥åŠ <strong>ã€Œæ‰“ Google Indexing API çš„ç¨‹å¼ã€è¦åœ¨å“ªè£¡åŸ·è¡Œï¼Ÿ</strong></p>
<p>ç¬¬ä¸€å€‹æƒ³æ³•æ˜¯ï¼šçœ‹çœ‹ Netlify åœ¨ deploy æˆåŠŸå¾Œï¼Œæœ‰æ²’æœ‰ä»€éº¼äº‹ä»¶å¯ä»¥ç›£è½ã€‚</p>
<p>æ–¼æ˜¯æœå°‹åˆ°äº†å®˜æ–¹æ–‡ä»¶é—œæ–¼ <a href="https://docs.netlify.com/site-deploys/notifications/">Deploy notifications</a> çš„èªªæ˜ï¼Œæœ‰æ”¯æ´å¤šç¨®æ¥æ”¶é€šçŸ¥çš„æ–¹å¼ï¼ŒSlackã€emailã€webhook ç­‰ç­‰ã€‚çœ‹èµ·ä¾†æ¯”è¼ƒé©åˆçš„æ–¹å¼å¯èƒ½æ˜¯é€é webhookï¼Œå¦å¤–èµ·ä¸€å€‹ http server ä¸¦è¨»å†Šä¸€å€‹ endpointï¼Œserver ä¸€æ¥æ”¶åˆ° request å°±ç«‹åˆ»æ‰“ Google Indexing APIã€‚
ä½†é€™éº¼ä¸€ä¾†ï¼Œå°±é‚„å¾—å¦å¤– run ä¸€å€‹ http serverï¼Œç‚ºäº†å®Œæˆé€™å€‹å°ä»»å‹™é‚„å¾—å†é¡å¤–é–‹ä¸€å€‹æœå‹™ï¼Œç¸½è¦ºå¾—å“ªè£æ€ªæ€ªçš„ã€‚æ‰€ä»¥å¾Œä¾†åˆæ‰¾äº†ä¸€ä¸‹æœ‰æ²’æœ‰å…¶ä»–æ›´é©åˆçš„åšæ³•ï¼Œçµæœå°±çœ‹åˆ°äº† Netlify Functionsã€‚</p>
<h3 id="ä»€éº¼æ˜¯-netlify-functions">
    <a href="#%e4%bb%80%e9%ba%bc%e6%98%af-netlify-functions" class="anchor">
        <svg class="icon" aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16">
            <path fill-rule="evenodd"
                d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
        </svg>
    </a>
    ä»€éº¼æ˜¯ Netlify Functions
</h3>
<p><a href="https://docs.netlify.com/functions/overview/">Netlify Functions</a> æ˜¯ Netlify æä¾›çš„ä¸€å€‹é¡ä¼¼ aws lamda çš„åŠŸèƒ½(å¯¦éš›ä¸Šä¹Ÿæ˜¯åŸºæ–¼ aws lamda å»å¯¦ç¾çš„)ï¼Œå¯ä»¥è¼•æ˜“åœ°éƒ¨ç½² serverless çš„æœå‹™ã€‚</p>
<p>ç„¶è€Œ functions éƒ½æ˜¯åŸºæ–¼å°ˆæ¡ˆ(ä¹Ÿå°±æ˜¯é€é Netlify æ‰€æ§‹å»ºçš„ç¶²ç«™)ï¼Œä¸€å€‹å°ˆæ¡ˆåº•ä¸‹å¯ä»¥æœ‰å¤šå€‹ functionsï¼Œé€™äº› functions éœ€è¦è¢«æ”¾åœ¨ç‰¹å®šè³‡æ–™å¤¾ä¸‹é¢æ‰æœƒä¸€åŒè·Ÿè‘—å°ˆæ¡ˆè¢«éƒ¨ç½²ã€‚ï¼ˆé è¨­çš„è³‡æ–™å¤¾ä½ç½®åœ¨ <code>YOUR_BASE_DIRECTORY/netlify/functions/</code>ï¼Œå¯ä»¥è‡ªè¡Œé€éè¨­å®šæ›´æ”¹)</p>
<p>è€Œé€™äº›éƒ¨ç½²åœ¨ç·šä¸Šçš„ functionsï¼Œéƒ½å¯ä»¥è—‰ç”±ç‰¹å®šçš„è·¯ç”±å»è§¸ç™¼åŸ·è¡Œã€‚
ä¾‹å¦‚ï¼Œä¸€å€‹ç”¨ JavaScript å¯«çš„ functions æª”æ¡ˆåç‚º <code>hello.js</code>ï¼Œè¢«æ”¾åœ¨ <code>netlify/functions/</code> åº•ä¸‹ï¼Œå®Œæ•´è·¯å¾‘æ˜¯ï¼š</p>
<pre tabindex="0"><code>YOUR_BASE_DIRECTORY/netlify/functions/hello.js
</code></pre><p>å°æ‡‰çš„è·¯ç”±å°±æ˜¯ï¼š</p>
<pre tabindex="0"><code>BASE_URL_OF_YOUR_SITE/.netlify/functions/hello
</code></pre><p>åªè¦æˆ³é€™å€‹ endpointï¼Œéš¨ä¾¿ä¸€ç¨® Http Method éƒ½å¯ä»¥ï¼Œå°±èƒ½è§¸ç™¼é€™å€‹ functionã€‚</p>
<blockquote>
<p>ğŸ“ Note: ç›®å‰ functions æ”¯æ´çš„ç¨‹å¼èªè¨€åªæœ‰ Typescriptã€JavaScript ä»¥åŠ Golang ã€‚</p>
</blockquote>
<p>ä½†æ¥è‘—åˆæƒ³åˆ°ä¸€ä»¶äº‹ï¼Œæ—¢ç„¶ functions éƒ½æ˜¯åœ¨å°ˆæ¡ˆåº•ä¸‹ï¼Œé‚£ä»–æ˜¯å¦èƒ½é€éæŸç¨®æ–¹å¼ç›£è½åˆ°å°ˆæ¡ˆçš„éƒ¨ç½²æˆåŠŸäº‹ä»¶ï¼Œåªè¦å°ˆæ¡ˆä¸€éƒ¨ç½²æˆåŠŸï¼Œå°±è‡ªå‹• call é€™å€‹ functionï¼Œä¹Ÿä¸éœ€è¦è¨­å®š webhook url äº†ï¼Ÿç­”æ¡ˆæ˜¯å¯ä»¥çš„ï¼Œ<a href="https://docs.netlify.com/functions/trigger-on-events/">Netlify æä¾›äº†ä¸€ç³»åˆ—çš„ triggers</a>ï¼Œåªè¦å°‡ functions æŒ‰ç…§äº‹ä»¶åç¨±å‘½åï¼Œå°±æœƒåœ¨è©²äº‹ä»¶ç™¼ç”Ÿæ™‚ï¼Œç›´æ¥åŸ·è¡ŒåŒå functionã€‚äº‹ä»¶ç•¶ä¸­ç•¶ç„¶ä¹ŸåŒ…æ‹¬éƒ¨ç½²æˆåŠŸäº‹ä»¶ <code>deploy-succeeded</code> ï¼Œæ‰€ä»¥åªè¦å°‡ function å‘½åç‚º <code>deploy-succeeded</code>ï¼Œfunction å°±æœƒåœ¨å°ˆæ¡ˆéƒ¨ç½²å®Œæˆæ™‚è¢«åŸ·è¡Œã€‚</p>
<h3 id="ä½¿ç”¨-netlify-functions">
    <a href="#%e4%bd%bf%e7%94%a8-netlify-functions" class="anchor">
        <svg class="icon" aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16">
            <path fill-rule="evenodd"
                d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
        </svg>
    </a>
    ä½¿ç”¨ Netlify Functions
</h3>
<p>ç¸½ç®—é€²å…¥åˆ°å¯¦ä½œçš„ç’°ç¯€å•¦!åœ¨é€™é‚Šæœƒä½¿ç”¨ Golang é€²è¡Œå¯¦ä½œã€‚
é¦–å…ˆï¼Œåœ¨å°ˆæ¡ˆåº•ä¸‹æ–°å»ºæª”æ¡ˆ <code>netlify/functions/deploy-succeeded/deploy-succeeded.go</code></p>
<blockquote>
<p>ğŸ“ Note: ç”±æ–¼ä½¿ç”¨ Golangï¼Œä¸€å€‹ function æœƒè¦–ä½œç‚ºä¸€å€‹ Go moduleï¼Œè£¡é¢åŒ…å«ä¸€å€‹æœ‰ main function çš„æª”æ¡ˆï¼Œæ‰€ä»¥éœ€è¦ç”¨è³‡æ–™å¤¾ä¾†åˆ†å±¤ã€‚ä½†å¦‚æœä½¿ç”¨ JS å°±ä¸éœ€è¦è³‡æ–™å¤¾åˆ†å±¤ï¼Œä¸€å€‹æª”æ¡ˆå°±æ˜¯ä¸€å€‹ functionã€‚</p>
</blockquote>
<p>ä»¥ä¸‹æ˜¯å®˜æ–¹æ–‡ä»¶æä¾›çš„ function ç¯„æœ¬ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Go" data-lang="Go"><span class="line"><span class="cl"><span class="c1">// ./netlify/functions/deploy-succeeded/deploy-succeeded.go
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;github.com/aws/aws-lambda-go/events&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;github.com/aws/aws-lambda-go/lambda&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">handler</span><span class="p">(</span><span class="nx">request</span> <span class="nx">events</span><span class="p">.</span><span class="nx">APIGatewayProxyRequest</span><span class="p">)</span> <span class="p">(</span><span class="o">*</span><span class="nx">events</span><span class="p">.</span><span class="nx">APIGatewayProxyResponse</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// é€™é‚Šæ˜¯ function çš„é‚è¼¯
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// é€™å¡Šä¸éœ€è¦å‹•
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">lambda</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="nx">handler</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>æƒ³è¦å…ˆæ¸¬è©¦çœ‹çœ‹ï¼Œæ˜¯å¦é€™å€‹ function çœŸçš„æœƒåœ¨æ¯æ¬¡éƒ¨ç½²å®Œæˆå¾Œè¢«è§¸ç™¼åŸ·è¡Œï¼Œä¹Ÿé †ä¾¿çœ‹çœ‹æ”¶åˆ°çš„ request payload æœƒæ˜¯ä»€éº¼ï¼Œæ‰€ä»¥åœ¨ <code>handler</code> æ–¹æ³•è£¡é¢åŠ ä¸Šï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Go" data-lang="Go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">handler</span><span class="p">(</span><span class="nx">request</span> <span class="nx">events</span><span class="p">.</span><span class="nx">APIGatewayProxyRequest</span><span class="p">)</span> <span class="p">(</span><span class="o">*</span><span class="nx">events</span><span class="p">.</span><span class="nx">APIGatewayProxyResponse</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// è©¦è‘—æŠŠ request.Body å°å‡ºä¾†
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">request</span><span class="p">.</span><span class="nx">Body</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>çµæœç™¼ç¾çœŸçš„æœ‰è¢«åŸ·è¡Œï¼Œæˆ‘å€‘å¯ä»¥åˆ° Netlify å¾Œå°å»çœ‹ function çš„ logã€‚é€²å…¥ <a href="https://app.netlify.com/sites/%7Byour_site%7D/functions">https://app.netlify.com/sites/{your_site}/functions</a>
ï¼Œé»é¸å‰›å‰› deploy çš„ functionï¼š
<img loading="lazy" 
    src="/images/netifly-functions-02.png" 
    alt="Untitled" 
     
    width=1263 
    height="735"  /></p>
<p>å°±å¯ä»¥é€²åˆ°è©² function çš„é é¢ç€è¦½ logï¼š
<img loading="lazy" 
    src="/images/netifly-functions-03.png" 
    alt="Untitled" 
     
    width=1268 
    height="667"  /></p>
<p>log å°å‡ºä¾†çš„å…§å®¹å¤§æ¦‚é•·é€™æ¨£ï¼Œä½†å› çˆ²è³‡æ–™æœ‰é»å¤ªå¤šï¼Œé€™é‚Šå°±æ²’è²¼å®Œæ•´å…§å®¹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="c1">// æ•æ„Ÿè³‡è¨Šæœ‰ç”¨*è™Ÿé®ç½©
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;payload&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="s2">&#34;63f9e14********6916d&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;site_id&#34;</span><span class="p">:</span> <span class="s2">&#34;********-6b6d-4df7-a413-********&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;build_id&#34;</span><span class="p">:</span> <span class="s2">&#34;63f9e144bb8728000846916b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;state&#34;</span><span class="p">:</span> <span class="s2">&#34;ready&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;emmielin&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;url&#34;</span><span class="p">:</span> <span class="s2">&#34;https://emmie.work&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;ssl_url&#34;</span><span class="p">:</span> <span class="s2">&#34;https://emmie.work&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;admin_url&#34;</span><span class="p">:</span> <span class="s2">&#34;https://app.netlify.com/sites/emmielin&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;deploy_url&#34;</span><span class="p">:</span> <span class="s2">&#34;http://main--emmielin.netlify.app&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;deploy_ssl_url&#34;</span><span class="p">:</span> <span class="s2">&#34;https://main--emmielin.netlify.app&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;created_at&#34;</span><span class="p">:</span> <span class="s2">&#34;2023-02-25T10:21:56.064Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;updated_at&#34;</span><span class="p">:</span> <span class="s2">&#34;2023-02-25T10:22:11.735Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;user_id&#34;</span><span class="p">:</span> <span class="s2">&#34;************************&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;error_message&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;required&#34;</span><span class="p">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;required_functions&#34;</span><span class="p">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;commit_ref&#34;</span><span class="p">:</span> <span class="s2">&#34;f3fb856c951b6979f22********90&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;review_id&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;branch&#34;</span><span class="p">:</span> <span class="s2">&#34;main&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;commit_url&#34;</span><span class="p">:</span> <span class="s2">&#34;https://github.com/linxinemily/hugo-emmie-blog/commit/f3fb856c951b6979f22ffad191843dc831164690&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;skipped&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;locked&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;log_access_attributes&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;firebase&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;url&#34;</span><span class="p">:</span> <span class="s2">&#34;https://netlify-builds9.firebaseio.com/builds/63f9e144bb8728000846916b/log&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;database&#34;</span><span class="p">:</span> <span class="s2">&#34;netlify-builds9&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;endpoint&#34;</span><span class="p">:</span> <span class="s2">&#34;https://netlify-builds9.firebaseio.com&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;path&#34;</span><span class="p">:</span> <span class="s2">&#34;/builds/63f9e144bb8728000846916b/log&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;token&#34;</span><span class="p">:</span> <span class="s2">&#34;************************&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;title&#34;</span><span class="p">:</span> <span class="s2">&#34;commit msg&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// more info...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;site&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="s2">&#34;********-6b6d-4df7-a413-********&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;site_id&#34;</span><span class="p">:</span> <span class="s2">&#34;********-6b6d-4df7-a413-********&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;plan&#34;</span><span class="p">:</span> <span class="s2">&#34;nf_team_dev&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;ssl_plan&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;premium&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;claimed&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;emmielin&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;custom_domain&#34;</span><span class="p">:</span> <span class="s2">&#34;emmie.work&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;domain_suffix_branch&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;domain_suffix_deploy_preview&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;domain_aliases&#34;</span><span class="p">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;password&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;password_hash&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;sso_login&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;sso_login_context&#34;</span><span class="p">:</span> <span class="s2">&#34;all&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;notification_email&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;url&#34;</span><span class="p">:</span> <span class="s2">&#34;https://emmie.work&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;admin_url&#34;</span><span class="p">:</span> <span class="s2">&#34;https://app.netlify.com/sites/emmielin&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;deploy_id&#34;</span><span class="p">:</span> <span class="s2">&#34;63f9e14********6916d&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;build_id&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;deploy_url&#34;</span><span class="p">:</span> <span class="s2">&#34;http://main--emmielin.netlify.app&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;state&#34;</span><span class="p">:</span> <span class="s2">&#34;current&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;screenshot_url&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;created_at&#34;</span><span class="p">:</span> <span class="s2">&#34;2022-07-18T16:18:18.628Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;updated_at&#34;</span><span class="p">:</span> <span class="s2">&#34;2023-02-25T10:22:11.738Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;user_id&#34;</span><span class="p">:</span> <span class="s2">&#34;************************&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;error_message&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;ssl&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;ssl_url&#34;</span><span class="p">:</span> <span class="s2">&#34;https://emmie.work&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;force_ssl&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;ssl_status&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;max_domain_aliases&#34;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// more info...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¦‚æœè¦åœ¨ local é–‹ç™¼ function çš„è©±ï¼Œå¯ä»¥<a href="https://docs.netlify.com/cli/get-started/#installation">å®‰è£ Netlify CLI</a>ï¼Œåœ¨å°ˆæ¡ˆåº•ä¸‹è·‘ï¼š</p>
<pre tabindex="0"><code>$ netlify functions:serve
</code></pre><p>æˆåŠŸè·‘èµ·ä¾†çš„è©±é è¨­æœƒåœ¨ 9999 portï¼š
<img loading="lazy" 
    src="/images/netifly-functions-04.png" 
    alt="Untitled" 
     
    width=1422 
    height="160"  /></p>
<p>ç„¶å¾Œå°±å¯ä»¥ç”¨ Postman æ‰“ function çš„ endpointï¼š
<img loading="lazy" 
    src="/images/netifly-functions-05.png" 
    alt="Untitled" 
     
    width=2026 
    height="858"  /></p>
<h3 id="å¦‚ä½•å–å¾—æ–°æ–‡ç« -url">
    <a href="#%e5%a6%82%e4%bd%95%e5%8f%96%e5%be%97%e6%96%b0%e6%96%87%e7%ab%a0-url" class="anchor">
        <svg class="icon" aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16">
            <path fill-rule="evenodd"
                d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
        </svg>
    </a>
    å¦‚ä½•å–å¾—æ–°æ–‡ç«  URL
</h3>
<p>ç¢ºå®š Netlify Functions å¯ä»¥é”æˆæˆ‘å€‘çš„éœ€æ±‚å¾Œï¼Œåœ¨ä¸²æ¥ Indexing API å‰ï¼Œç¸½å¾—çŸ¥é“è©²æ€éº¼æŠŠæ–°æ–‡ç« çš„ç¶²å€æ¨é€çµ¦ Indexing API å§ï¼</p>
<p>åŸæœ¬çš„æƒ³æ³•æ˜¯ï¼Œç”±æ–¼ Hugo æ¯æ¬¡ build çš„æ™‚å€™éƒ½æœƒè‡ªå‹•å¹«æˆ‘å€‘æ›´æ–° sitemap æª”æ¡ˆï¼Œå› æ­¤æˆ–è¨±å¯ä»¥é€éæ–°èˆŠ sitemap çš„æ¯”å°æª¢æŸ¥æ˜¯å¦æœ‰æ–°å¢çš„ page urlï¼Œå¦‚æœæœ‰çš„è©±å°±æŠŠé€™äº› url æ¨é€çµ¦ Google Indexing APIã€‚ä½†å•é¡Œå°±ä¾†äº†ï¼Œè¦æœ‰èˆŠæª”æ¡ˆå¯ä»¥æ‹¿å‡ºä¾†æ¯”è¼ƒï¼Œé‚£å°±å¾—åœ¨æ¯æ¬¡åŸ·è¡Œé€™å€‹ function å®Œå­˜ä¸‹ç•¶å‰çš„ sitemap æª”æ¡ˆï¼Œé€™æ¨£æ‰èƒ½åœ¨ä¸‹ä¸€æ¬¡åŸ·è¡Œ function æ™‚ï¼Œå–å¾—ä¸Šæ¬¡å­˜ä¸‹çš„ sitemap æª”æ¡ˆèˆ‡æ–°çš„åšæ¯”å°ã€‚ç„¶è€Œï¼Œ<strong>åœ¨ functions ç•¶ä¸­ç„¡æ³•å°å°ˆæ¡ˆé€²è¡Œæª”æ¡ˆçš„è®€å¯«</strong>ï¼Œ(<a href="https://answers.netlify.com/t/is-it-possible-to-use-a-filesystem-like-node-fs-with-netlify-functions-answered/77409">æœ‰äººç™¼å•è¢«å®˜æ–¹å›è¦†åœ¨æ­¤</a>)ï¼Œé€™éº¼ä¸€ä¾†é‚„å¾—å¦å¤–æ‰¾ä¸€å€‹å¤–éƒ¨ç©ºé–“ä¾‹å¦‚ AWS S3 ä¹‹é¡çš„å»å­˜æ”¾é€™å€‹æª”æ¡ˆï¼Œè¦ºå¾—æœ‰é»å¤ªéº»ç…©äº†ï¼Œè€Œä¸”é€™å€‹åŠŸèƒ½æ‡‰è©²ä¹Ÿä¸éœ€è¦åšåˆ°é€™éº¼è‡ªå‹•åŒ–(ç•¢ç«Ÿæš«æ™‚åªæœ‰æˆ‘è¦ç”¨)ã€‚</p>
<p>æ‰€ä»¥å¾Œä¾†ç™¼ç¾ payload ç•¶ä¸­æœ‰ä¸€å€‹æ¬„ä½ <code>payload.title</code> æ˜¯æ¯æ¬¡ commit çš„è¨Šæ¯ï¼Œå› çˆ² Netlify çš„è¨­å®šæ˜¯ä¸€ push commit å°±æœƒè§¸ç™¼ deployï¼Œæ‰€ä»¥æ¯æ¬¡ deploy ä¸€å®šéƒ½æœƒæœ‰ä¸€å€‹ commit msgã€‚æ–¼æ˜¯æƒ³åˆ°å¯ä»¥ç›´æ¥åˆ©ç”¨ commit msg å¸¶å…¥æ–°æ–‡ç« çš„ slugï¼Œåœ¨ payload ä¸­å–å¾— <code>payload.title</code> è§£æå‡º slug å­—ä¸²å¾Œçµ„å‡ºæ–°æ–‡ç« çš„ç¶²å€ã€‚é›–ç„¶å¥½åƒæœ‰é»åœŸæ³•ç…‰é‹¼ï¼Œä¸éæ„Ÿè¦ºé‚„æŒºå¯è¡Œçš„ã€‚</p>
<h3 id="ä¸²æ¥-google-indexing-api">
    <a href="#%e4%b8%b2%e6%8e%a5-google-indexing-api" class="anchor">
        <svg class="icon" aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16">
            <path fill-rule="evenodd"
                d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
        </svg>
    </a>
    ä¸²æ¥ Google Indexing API
</h3>
<p>ç¢ºå®šè³‡æ–™çš„å–å¾—éƒ½æ²’å•é¡Œå¾Œï¼Œæ¥ä¸‹ä¾†å°±æ˜¯é€²å…¥ä¸²æ¥ Indexing API çš„éƒ¨åˆ†äº†ã€‚å®Œæˆ<a href="https://developers.google.com/search/apis/indexing-api/v3/prereqs?hl=zh-tw">å®˜æ–¹æ–‡ä»¶äº‹å‰æº–å‚™</a>çš„æ­¥é©Ÿã€Œç‚ºç”¨æˆ¶ç«¯å»ºç«‹å°ˆæ¡ˆã€ã€ã€Œå»ºç«‹æœå‹™å¸³æˆ¶ã€ã€ã€Œå°‡æœå‹™å¸³æˆ¶æ–°å¢ç‚ºç¶²ç«™æ“æœ‰è€…ã€ä¹‹å¾Œï¼Œå°±å¯ä»¥<a href="https://developers.google.com/search/apis/indexing-api/v3/libraries?hl=zh-tw#go">æ ¹æ“šè¦ä½¿ç”¨çš„ç¨‹å¼èªè¨€å®‰è£ google api sdk ç¨‹å¼</a>ï¼Œé€™é‚Šé¸æ“‡ä½¿ç”¨ <a href="https://github.com/googleapis/google-api-go-client">Golang çš„ sdk</a>ã€‚</p>
<p>å‰›å‰›ç¬¬äºŒå€‹æ­¥é©Ÿã€Œå»ºç«‹æœå‹™å¸³æˆ¶ã€æ™‚ï¼Œä¸‹è¼‰äº†ä¸€å€‹é‡‘é‘°æª”æ¡ˆ(æŒ‰ç…§å»ºè­°æª”æ¡ˆé¡å‹é¸æ“‡JSON)å­˜åœ¨æœ¬åœ°é›»è…¦è£¡ï¼Œä½¿ç”¨é€™å€‹é‡‘é‘°çš„æ–¹å¼å¾ˆç°¡å–®ï¼Œæœ¬åœ°ç«¯é–‹ç™¼çš„è©±ï¼Œåªè¦åœ¨å‘½ä»¤åˆ—å®£å‘Šå€‹ç’°å¢ƒè®Šæ•¸ï¼š<a href="https://cloud.google.com/docs/authentication/provide-credentials-adc#wlif-key">Ref</a></p>
<pre tabindex="0"><code>$ export GOOGLE_APPLICATION_CREDENTIALS=&#34;KEY_PATH&#34; //KEY_PATH å–ä»£ç‚ºå‰›å‰›ä¸‹è¼‰çš„é‡‘é‘°æª”æ¡ˆè·¯å¾‘
</code></pre><p>å…ˆæ¸¬è©¦ä¸€ä¸‹ä¸²æ¥æœ‰æ²’æœ‰æˆåŠŸï¼Œå¸¶å€‹æ¸¬è©¦ç¶²å€ç™¼é€çœ‹çœ‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Go" data-lang="Go"><span class="line"><span class="cl"><span class="c1">// ./netlify/functions/deploy-succeeded/deploy-succeeded.go
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl"> <span class="s">&#34;context&#34;</span>
</span></span><span class="line"><span class="cl"> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl"> <span class="s">&#34;log&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="s">&#34;github.com/aws/aws-lambda-go/events&#34;</span>
</span></span><span class="line"><span class="cl"> <span class="s">&#34;github.com/aws/aws-lambda-go/lambda&#34;</span>
</span></span><span class="line"><span class="cl"> <span class="s">&#34;google.golang.org/api/indexing/v3&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">handler</span><span class="p">(</span><span class="nx">request</span> <span class="nx">events</span><span class="p">.</span><span class="nx">APIGatewayProxyRequest</span><span class="p">)</span> <span class="p">(</span><span class="o">*</span><span class="nx">events</span><span class="p">.</span><span class="nx">APIGatewayProxyResponse</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="nx">ctx</span> <span class="o">:=</span> <span class="nx">context</span><span class="p">.</span><span class="nf">Background</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"> <span class="nx">indexingService</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">indexing</span><span class="p">.</span><span class="nf">NewService</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">log</span><span class="p">.</span><span class="nf">Fatalln</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="nx">fullUrl</span> <span class="o">:=</span> <span class="s">&#34;https://emmie.work/posts/test&#34;</span> <span class="c1">//å…ˆå¯«æ­»ä¸€å€‹æ¸¬è©¦ç¶²å€
</span></span></span><span class="line"><span class="cl"><span class="c1"></span> <span class="nx">notification</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="nx">indexing</span><span class="p">.</span><span class="nx">UrlNotification</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Url</span><span class="p">:</span>  <span class="nx">fullUrl</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Type</span><span class="p">:</span> <span class="s">&#34;URL_UPDATED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"> <span class="p">}</span>
</span></span><span class="line"><span class="cl"> <span class="nx">res</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">indexingService</span><span class="p">.</span><span class="nx">UrlNotifications</span><span class="p">.</span><span class="nf">Publish</span><span class="p">(</span><span class="nx">notification</span><span class="p">).</span><span class="nf">Do</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">log</span><span class="p">.</span><span class="nf">Fatalln</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="nx">log</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">ServerResponse</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="k">return</span> <span class="o">&amp;</span><span class="nx">events</span><span class="p">.</span><span class="nx">APIGatewayProxyResponse</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">StatusCode</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Body</span><span class="p">:</span>       <span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;Success send request to notify Google of new article, url: %s&#34;</span><span class="p">,</span> <span class="nx">fullUrl</span><span class="p">),</span>
</span></span><span class="line"><span class="cl"> <span class="p">},</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="nx">lambda</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="nx">handler</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>åœ¨åŒå€‹å‘½ä»¤åˆ— session ä¸‹å‰›å‰›çš„ <code>netlify functions:serve</code> æŒ‡ä»¤ï¼Œçœ‹èµ·ä¾†æ˜¯ work çš„ã€‚
<img loading="lazy" 
    src="/images/netifly-functions-06.png" 
    alt="Untitled" 
     
    width=2028 
    height="574"  /></p>
<p>OKï¼Œå•é¡Œåˆä¾†äº†ï¼Œç•¶é€™æ®µç¨‹å¼è¦æ”¾åœ¨ Netlify ä¸Šé¢è·‘æ™‚ï¼Œé›£ä¸æˆè¦æŠŠé€™å€‹é‡‘é‘°æª”æ¡ˆä¹Ÿé€£åŒä¸Šå‚³åˆ° github repo å—ï¼Œè½èµ·ä¾†æœ‰é»ä¸å¤ªå®‰å…¨ï¼Œè€Œä¸”é‚„è¨˜å¾—å‰›å‰›æåˆ° function è£¡é¢ç„¡æ³•å­˜å–å°ˆæ¡ˆç•¶ä¸­çš„æª”æ¡ˆï¼Œæ‰€ä»¥é€™æ¢è·¯ä¹Ÿä¸å¯è¡Œã€‚é‚£è©²æ€è¾¦å‘¢ï¼Ÿå¾Œä¾†çœ‹åˆ°æœ‰ç¶²å‹ä¹Ÿæœ‰é¡ä¼¼å•é¡Œï¼ˆä½†æˆ‘çªç„¶æ‰¾ä¸åˆ°åŸç™¼å•é€£çµï¼‰ï¼Œç¸½ä¹‹æœ€å¾Œæ¡ç”¨çš„æ–¹æ³•æ˜¯å°‡ç’°å¢ƒè®Šæ•¸çš„å€¼æ”¹æˆé‡‘é‘° JSON æª”å…§å®¹ï¼Œç„¶å¾Œåœ¨ç¨‹å¼è£¡é¢å–å¾—ç’°å¢ƒè®Šæ•¸çš„å€¼å¾Œï¼Œé€é option è¨­å®šé‡‘é‘°çš„å€¼ï¼š</p>
<pre tabindex="0"><code>$ export GOOGLE_APPLICATION_CREDENTIALS=&#39;{
  &#34;type&#34;: &#34;service_account&#34;,
  &#34;project_id&#34;: &#34;emmie-hugo-blog&#34;,
  &#34;private_key_id&#34;:&#34;xxxxxx&#34;,
  //...
 }&#39;
</code></pre><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Go" data-lang="Go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">handler</span><span class="p">(</span><span class="nx">request</span> <span class="nx">events</span><span class="p">.</span><span class="nx">APIGatewayProxyRequest</span><span class="p">)</span> <span class="p">(</span><span class="o">*</span><span class="nx">events</span><span class="p">.</span><span class="nx">APIGatewayProxyResponse</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="c1">//...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span> <span class="nx">credentialJsonStr</span> <span class="o">:=</span> <span class="nx">os</span><span class="p">.</span><span class="nf">Getenv</span><span class="p">(</span><span class="s">&#34;GOOGLE_APPLICATION_CREDENTIALS&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"> <span class="nx">indexingService</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">indexing</span><span class="p">.</span><span class="nf">NewService</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="nx">option</span><span class="p">.</span><span class="nf">WithCredentialsJSON</span><span class="p">([]</span><span class="nb">byte</span><span class="p">(</span><span class="nx">credentialJsonStr</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl"> <span class="c1">//...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>é€™æ¨£ä¸€ä¾†ï¼Œå°±èƒ½å¤ å–®ç´”é€éè¨­å®šç’°å¢ƒè®Šæ•¸çš„å€¼å–ä»£éœ€è¦å­˜å–æª”æ¡ˆçš„æ–¹å¼ã€‚ä½†è¦åœ¨éƒ¨ç½²æ™‚åŠ ä¸Šé€™å€‹è®Šæ•¸ï¼Œæˆ‘å€‘é‚„å¾—å†åšå…©å€‹å‹•ä½œï¼Œä¸€æ˜¯åœ¨ <code>./netlify.toml</code> æª”æ¡ˆï¼Œè¨­å®šç’°å¢ƒè®Šæ•¸çš„ KEYï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-toml" data-lang="toml"><span class="line"><span class="cl"><span class="c"># ./netlify.toml</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">context</span><span class="p">.</span><span class="nx">production</span><span class="p">.</span><span class="nx">environment</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">   <span class="nx">HUGO_ENV</span> <span class="p">=</span> <span class="s2">&#34;production&#34;</span>
</span></span><span class="line"><span class="cl">   <span class="nx">GOOGLE_APPLICATION_CREDENTIALS</span> <span class="p">=</span> <span class="s2">&#34;$GOOGLE_APPLICATION_CREDENTIALS&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>äºŒæ˜¯åˆ° <a href="https://app.netlify.com/sites/emmielin/settings/env">Netlify å¾Œå°</a>è¨­å®šç’°å¢ƒè®Šæ•¸çš„å€¼ï¼š
<img loading="lazy" 
    src="/images/netifly-functions-07.png" 
    alt="Untitled" 
     
    width=945 
    height="707"  /></p>
<p>ç„¶å¾Œå°±å¤§åŠŸå‘Šæˆäº†ï¼ï¼</p>
<p>é€™é‚Šç›´æ¥é™„ä¸Šæœ€å¾Œå®Œæˆçš„ codeï¼š <a href="https://github.com/linxinemily/google-indexing-netlify-function/blob/main/deploy-succeeded.go">https://github.com/linxinemily/google-indexing-netlify-function/blob/main/deploy-succeeded.go</a></p>
<p>å†ä¾†æ¸¬è©¦çœ‹çœ‹ç™¼ä¸€å€‹ commit ç„¶å¾Œ push:</p>
<pre tabindex="0"><code>git commit -m &#34;new article: netlify-function-google-indexing-api&#34; &amp;&amp; git push
</code></pre><p>é©—è­‰ä¸€ä¸‹æ˜¯å¦æœ‰æˆåŠŸæäº¤ç´¢å¼•ï¼Œåˆ°å¾Œå°çœ‹ function æœ‰æ²’æœ‰ logï¼Œæœ‰é¡¯ç¤ºä»£è¡¨æˆåŠŸï¼š
<img loading="lazy" 
    src="/images/netifly-functions-08.png" 
    alt="Untitled" 
     
    width=1222 
    height="253"  /></p>
<h2 id="å¾Œè¨˜">
    <a href="#%e5%be%8c%e8%a8%98" class="anchor">
        <svg class="icon" aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16">
            <path fill-rule="evenodd"
                d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
            </path>
        </svg>
    </a>
    å¾Œè¨˜
</h2>
<p>ä»¥ä¸Šï¼Œå¤§æ¦‚å°±å®Œæˆäº† 90% çš„äººå·¥ä½œæ¥­ï¼ˆå‰©ä¸‹ 10ï¼… æ˜¯è¦è‡ªå·±æ‰“ commit msg çš„éƒ¨åˆ†ï¼‰ï¼Œä¸éä¹Ÿå·²ç¶“å¿ƒæ»¿æ„è¶³äº†ï¼æ¯”è¼ƒå¤§çš„æ”¶ç©«å°±æ˜¯ç™¼æ˜äº† Netlify Functions é€™å€‹ä¸éŒ¯ç”¨çš„åŠŸèƒ½ï¼Œä»¥åŠé‡æº«ä¸€ä¸‹ä¸² Google API çš„å›æ†¶ã€‚
ç¾åœ¨èƒ½æƒ³åˆ°å”¯ä¸€çš„ç¼ºé™·æ˜¯ï¼Œç•¶ä¸€æ¬¡æ¨å¤šå€‹ commit æ™‚ï¼Œç”±æ–¼ deploy çš„ payload åªæœƒæœ‰æœ€æ–°ä¸€å€‹ commit çš„ç›¸é—œè³‡è¨Šï¼Œæ‰€ä»¥å¦‚æœé€™å¹¾å€‹ commit éƒ½åŒ…å«æœ‰ä¸€ç¯‡æ–°æ–‡ç« ï¼Œé‚£å°±åªæœ‰æœ€å¾Œç™¼çš„é‚£å€‹ commit çš„æ–‡ç« æœƒè¢«æäº¤ç´¢å¼•ï¼Œä¸éæˆ‘å¯«æ–‡é »ç‡æ²’æœ‰é«˜æˆé‚£æ¨£æ‰€ä»¥æ‡‰è©²æ˜¯ä¸å¤ªå¯èƒ½æœƒé‡åˆ°é€™ç¨®æƒ…æ³ï¼Œæ‰€ä»¥å°±å…ˆç•¥éäº†ã€‚å‰©ä¸‹çš„éƒ¨åˆ†å°±çœ‹æœªä¾†æœ‰æ²’æœ‰é‡åˆ°ä»€éº¼ä½¿ç”¨ä¸Šçš„å›°é›£å†ä¾†å„ªåŒ–å§ï¼</p>

    </div>
</div>

<div class="container">
    
    <nav class="flex container suggested">
        
        <a rel="prev" href="/posts/golang-using-reference-to-loop-iterator-variable/" title="Previous post (older)">
            <span>Previous</span>
            Golang å¸¸è¦‹éŒ¯èª¤ - åœ¨è¿´åœˆç•¶ä¸­å¼•ç”¨è¿­ä»£è®Šæ•¸(iterator variable)
            </a>
        
        
        
        <a rel="next" href="/posts/resolve-oapi-codegen-error/" title="Next post (newer)">
            <span>Next</span>
            è§£æ±ºä½¿ç”¨ oapi-codegen æ™‚å ±éŒ¯ unexpected reference depth
            </a> 
        
    </nav>
    
</div>
 
<div class="container">
    
    <script src="https://utteranc.es/client.js" 
        repo="linxinemily/hugo-emmie-blog-comments"
        issue-term="pathname"
        
        crossorigin="anonymous"
        async
        >
</script>

<style>
    .utterances {
        max-width: unset;
    }
</style>

<script>
    function setUtterancesTheme(theme) {
        let utterances = document.querySelector('.utterances iframe');
        if (utterances) {
            utterances.contentWindow.postMessage(
                {
                    type: 'set-theme',
                    theme: `github-${theme}`
                },
                'https://utteranc.es'
            );
        }
    }

    addEventListener('message', event => {
        if (event.origin !== 'https://utteranc.es') return;
        setUtterancesTheme(document.documentElement.dataset.userColorScheme)
    });

    window.addEventListener('onColorSchemeChange', (e) => {
        setUtterancesTheme(e.detail)
    })
</script>

</div>

</main>


        </main>
        <footer class="footer flex">
    <section class="container">
        <nav class="footer-links">
            
            <a href="/index.xml">RSS</a>
            
        </nav>

        
    </section>
    <script defer src="/ts/features.0e4ad6a8cf3364ce36345e6c4b51eba6cc886aa2d8a4a63a617e906062690ffd.js" 
    data-enable-footnotes="true"
    ></script>
</footer>

    </body>
</html>